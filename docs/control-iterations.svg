<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="584px" preserveAspectRatio="none" style="width:311px;height:584px;" version="1.1" viewBox="0 0 311 584" width="311px" zoomAndPan="magnify"><defs><filter height="300%" id="fv2s1gtxn54ow" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="206" cy="18" fill="#000000" filter="url(#fv2s1gtxn54ow)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="48.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="113.5" y="69"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="138" y="90.6016">@Observes timed event</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="161" x="127.5" y="104.7344">extract date from event info</text><polygon fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" points="206,158,218,170,206,182,194,170,206,158" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="119" y="236"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="129" y="257.6016">Call remote REST endpoint</text><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="111.5" y="311"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="121.5" y="332.6016">Package and compress in ZIP</text><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="126.5" y="386"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="136.5" y="407.6016">Upload to UCL OneDrive</text><polygon fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" points="206,461,218,473,206,485,194,473,206,461" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="141" y="539"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="151" y="560.6016">Store date in cache</text><!--link start to @Observes timed event\n extract date from event info--><path d="M206,28.1148 C206,37.2112 206,51.0344 206,63.588 " fill="none" id="start-@Observes timed event\n extract date from event info" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="206,68.8729,210,59.8729,206,63.8729,202,59.8729,206,68.8729" style="stroke: #A80036; stroke-width: 1.0;"/><!--link @Observes timed event\n extract date from event info to #5--><path d="M206,117.3633 C206,128.7692 206,142.0976 206,152.4884 " fill="none" id="@Observes timed event\n extract date from event info-#5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="206,157.6286,210,148.6286,206,152.6286,202,148.6286,206,157.6286" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="0.7656" y="152.3491">Date in event equals date in cache?</text><!--link #5 to Call remote REST endpoint--><path d="M206,182.2469 C206,194.9682 206,215.1511 206,230.7108 " fill="none" id="#5-Call remote REST endpoint" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="206,235.7929,210,226.7929,206,230.7929,202,226.7929,206,235.7929" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="207" y="213.6348">false</text><!--link Call remote REST endpoint to Package and compress in ZIP--><path d="M206,270.0187 C206,280.5877 206,294.2879 206,305.7171 " fill="none" id="Call remote REST endpoint-Package and compress in ZIP" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="206,310.7891,210,301.7891,206,305.7891,202,301.7891,206,310.7891" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Package and compress in ZIP to Upload to UCL OneDrive--><path d="M206,345.0187 C206,355.5877 206,369.2879 206,380.7171 " fill="none" id="Package and compress in ZIP-Upload to UCL OneDrive" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="206,385.7891,210,376.7891,206,380.7891,202,376.7891,206,385.7891" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Upload to UCL OneDrive to #14--><path d="M206,420.3034 C206,431.1588 206,445.0963 206,455.9108 " fill="none" id="Upload to UCL OneDrive-#14" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="206,460.9417,210,451.9417,206,455.9417,202,451.9417,206,460.9417" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="42.8906" y="454.6319">MS Graph API returns 201?</text><!--link #14 to Store date in cache--><path d="M206,485.2469 C206,497.9682 206,518.1511 206,533.7108 " fill="none" id="#14-Store date in cache" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="206,538.7929,210,529.7929,206,533.7929,202,529.7929,206,538.7929" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="207" y="516.6348">true</text><!--
@startuml
(*) - -> "@Observes timed event\n extract date from event info"
if "Date in event equals date in cache?" then
- -> [false] "Call remote REST endpoint"
- -> "Package and compress in ZIP"
- -> "Upload to UCL OneDrive"
if "MS Graph API returns 201?" then
- -> [true] "Store date in cache"
endif
@enduml

PlantUML version 1.2017.20(Mon Dec 11 16:57:05 GMT 2017)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9.0.4+11
Operating System: Mac OS X
OS Version: 10.13.2
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>