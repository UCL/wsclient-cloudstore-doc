<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="583px" preserveAspectRatio="none" style="width:338px;height:583px;" version="1.1" viewBox="0 0 338 583" width="338px" zoomAndPan="magnify"><defs><filter height="300%" id="fv2s1gtxn54ow" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="224" cy="18" fill="#000000" filter="url(#fv2s1gtxn54ow)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="124.5" y="69"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="149.5" y="90.1387">@Observes timed event</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="175" x="138.5" y="104.1074">extract date from event info</text><polygon fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" points="224,158,236,170,224,182,212,170,224,158" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="186" x="131" y="236"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="166" x="141" y="257.1387">Call remote REST endpoint</text><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="121" y="311"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="131" y="332.1387">Package and compress in ZIP</text><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="140" y="386"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="150" y="407.1387">Upload to UCL OneDrive</text><polygon fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" points="224,461,236,473,224,485,212,473,224,461" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="152" y="539"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="162" y="560.1387">Store date in cache</text><!--link start to @Observes timed event\n extract date from event info--><path d="M224,28.246 C224,37.108 224,50.951 224,63.477 " fill="none" id="start-@Observes timed event\n extract date from event info" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="224,68.746,228,59.746,224,63.746,220,59.746,224,68.746" style="stroke: #A80036; stroke-width: 1.0;"/><!--link @Observes timed event\n extract date from event info to #5--><path d="M224,117.319 C224,128.744 224,142.228 224,152.558 " fill="none" id="@Observes timed event\n extract date from event info-#5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="224,157.645,228,148.645,224,152.645,220,148.645,224,157.645" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="1.0172" y="152.321">Date in event equals date in cache?</text><!--link #5 to Call remote REST endpoint--><path d="M224,182.263 C224,194.76 224,215.211 224,230.743 " fill="none" id="#5-Call remote REST endpoint" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="224,235.803,228,226.803,224,230.803,220,226.803,224,235.803" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="225" y="213.2104">false</text><!--link Call remote REST endpoint to Package and compress in ZIP--><path d="M224,270.201 C224,280.692 224,294.463 224,305.818 " fill="none" id="Call remote REST endpoint-Package and compress in ZIP" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="224,310.844,228,301.844,224,305.844,220,301.844,224,310.844" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Package and compress in ZIP to Upload to UCL OneDrive--><path d="M224,345.201 C224,355.692 224,369.463 224,380.818 " fill="none" id="Package and compress in ZIP-Upload to UCL OneDrive" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="224,385.844,228,376.844,224,380.844,220,376.844,224,385.844" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Upload to UCL OneDrive to #14--><path d="M224,420.115 C224,430.916 224,445.082 224,455.883 " fill="none" id="Upload to UCL OneDrive-#14" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="224,460.885,228,451.885,224,455.885,220,451.885,224,460.885" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="50.2688" y="454.5566">MS Graph API returns 201?</text><!--link #14 to Store date in cache--><path d="M224,485.2627 C224,497.7603 224,518.2113 224,533.743 " fill="none" id="#14-Store date in cache" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="224,538.8031,228,529.8031,224,533.8031,220,529.8031,224,538.8031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="23" x="225" y="516.2104">true</text><!--
@startuml
(*) - -> "@Observes timed event\n extract date from event info"
if "Date in event equals date in cache?" then
- -> [false] "Call remote REST endpoint"
- -> "Package and compress in ZIP"
- -> "Upload to UCL OneDrive"
if "MS Graph API returns 201?" then
- -> [true] "Store date in cache"
endif
@enduml

PlantUML version 1.2017.20(Mon Dec 11 16:57:05 GMT 2017)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Linux
OS Version: 4.13.0-25-generic
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>