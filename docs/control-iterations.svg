<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="592px" preserveAspectRatio="none" style="width:339px;height:592px;" version="1.1" viewBox="0 0 339 592" width="339px" zoomAndPan="magnify"><defs><filter height="300%" id="fv2s1gtxn54ow" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="225" cy="18" fill="#000000" filter="url(#fv2s1gtxn54ow)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="125.75" y="70"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="150.75" y="91.1387">@Observes timed event</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="175" x="139.75" y="105.1074">extract date from event info</text><polygon fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" points="225,160,237,172,225,184,213,172,225,160" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="186" x="132" y="240"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="166" x="142" y="261.1387">Call remote REST endpoint</text><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="122" y="316"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="132" y="337.1387">Package and compress in ZIP</text><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="141" y="392"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="151" y="413.1387">Upload to UCL OneDrive</text><polygon fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" points="225,468,237,480,225,492,213,480,225,468" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fv2s1gtxn54ow)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="153" y="548"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="163" y="569.1387">Store date in cache</text><!--link start to @Observes timed event\n extract date from event info--><path d="M225,28.074 C225,37.205 225,51.761 225,64.779 " fill="none" id="start-@Observes timed event\n extract date from event info" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="225,69.865,229,60.865,225,64.865,221,60.865,225,69.865" style="stroke: #A80036; stroke-width: 1.0;"/><!--link @Observes timed event\n extract date from event info to #5--><path d="M225,118.215 C225,129.962 225,143.942 225,154.563 " fill="none" id="@Observes timed event\n extract date from event info-#5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="225,159.781,229,150.781,225,154.781,221,150.781,225,159.781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="2.1016" y="153.5221">Date in event equals date in cache?</text><!--link #5 to Call remote REST endpoint--><path d="M225,184.194 C225,197.074 225,218.519 225,234.627 " fill="none" id="#5-Call remote REST endpoint" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="225,239.864,229,230.864,225,234.864,221,230.864,225,239.864" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="226" y="215.7104">false</text><!--link Call remote REST endpoint to Package and compress in ZIP--><path d="M225,274.057 C225,284.821 225,299.11 225,310.806 " fill="none" id="Call remote REST endpoint-Package and compress in ZIP" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="225,315.974,229,306.974,225,310.974,221,306.974,225,315.974" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Package and compress in ZIP to Upload to UCL OneDrive--><path d="M225,350.057 C225,360.821 225,375.11 225,386.806 " fill="none" id="Package and compress in ZIP-Upload to UCL OneDrive" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="225,391.974,229,382.974,225,386.974,221,382.974,225,391.974" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Upload to UCL OneDrive to #14--><path d="M225,426.003 C225,436.951 225,451.428 225,462.484 " fill="none" id="Upload to UCL OneDrive-#14" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="225,467.606,229,458.606,225,462.606,221,458.606,225,467.606" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="50.9875" y="460.1872">MS Graph API returns 201?</text><!--link #14 to Store date in cache--><path d="M225,492.1937 C225,505.0743 225,526.5193 225,542.6267 " fill="none" id="#14-Store date in cache" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="225,547.8645,229,538.8645,225,542.8645,221,538.8645,225,547.8645" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="23" x="226" y="523.7104">true</text><!--
@startuml
(*) - -> "@Observes timed event\n extract date from event info"
if "Date in event equals date in cache?" then
- -> [false] "Call remote REST endpoint"
- -> "Package and compress in ZIP"
- -> "Upload to UCL OneDrive"
if "MS Graph API returns 201?" then
- -> [true] "Store date in cache"
endif
@enduml

PlantUML version 1.2017.20(Mon Dec 11 16:57:05 GMT 2017)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_141-b15
Operating System: Linux
OS Version: 3.10.0-693.11.6.el7.x86_64
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>